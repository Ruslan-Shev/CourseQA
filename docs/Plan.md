# План автоматизации тестирования вэб-сервиса для покупки тура с оплатой дебетовой или кредитной картой.

## Перечень автоматизируемых сценариев.
Перечень валидных данных для тестирования:
1. Номер карты: состоит из 16 цифр,
4444 4444 4444 4441 статус ОДОБРЕН.
4444 4444 4444 4442 статус ОТКЛОНЕН.
2. Месяц – значение текущего месяца, цифры в формате ХХ от 1 до 12 включительно.
3. Год – значение текущего года, две последние цифры в формате ХХ.
4. Владелец - значение длиной от 1 латинской буквы, допустимы пробелы и дефисы.
5. CVC/CVV - 3 цифры.

### Позитивные сценарии тестирования UI.
#### Предусловие, выполняемое поочередно для каждого сценария:
1. Нажать кнопку Купить.
2. Нажать кнопку Купить в кредит.
   
### *1.Оплата тура картой с использованием валидных данных.*
##### Шаги:
1. Ввести номер карты со статусом ОДОБРЕН.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Появляется сообщение &quot;Успешно Операция одобрена банком&quot;.
В БД появляется запись с информацией о проведенной операции, которой присваивается id и
статус &quot;APPROVED&quot;.

### *2.Оплата тура отклонена при оплате действующей картой со статусом ОТКЛОНЕН и с использованием валидных данных.*
##### Шаги:
1. Ввести номер карты со статусом ОТКЛОНЕН.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.

* Ожидаемый результат: Появляется сообщение &quot;Отказ Операция отклонена банком&quot;.
В БД появляется запись с информацией о проведенной операции, которой присваивается id и
статус &quot;DECLINED&quot;.

### Негативные сценарии тестирования UI.
### *1.Оплата тура картой без заполнения полей формы.*
##### Шаги:
1. Нажать кнопку Продолжить.
* Ожидаемый результат: Все поля для ввода данных подсвечены красным, под всеми полями появляется сообщение "Поле обязательно для заполнения".

### *2.Оплата тура картой с пустым полем Номер карты.*
##### Шаги:
1. Оставить пустым поле Номер карты.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Номер карты подсвечивается красным, появляется сообщение "Поле обязательно для заполнения".

### *3.Оплата тура картой с невалидным номером длиной 16 цифр.*
##### Шаги:
1. Ввести номер карты, состоящий из 16 цифр.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Появляется сообщение &quot;Отказ Операция отклонена банком&quot;.
  
### *4.Оплата тура картой с номером длиной 17 цифр.*
##### Шаги:
1. Ввести номер карты, состоящий из 17 цифр.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Номер карты подсвечивается красным,
появляется сообщение &quot;Неверный формат&quot;.

### *5.Оплата тура картой с номером длиной 15 цифр.*

##### Шаги:
1. Ввести номер карты, состоящий из 15 цифр.
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Номер карты подсвечивается красным,
появляется сообщение &quot;Неверный формат&quot;.

### *6.Оплата тура картой с номером, состоящим из спецсимволов.*
##### Шаги:
1. Ввести номер карты, состоящий из символов (спецсимволы, пробелы,
тире, дефис).
2. Ввести валидное значение в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Номер карты подсвечивается красным,
появляется сообщение &quot;Неверный формат&quot;.

### *7.Оплата тура картой с пустым полем Месяц и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Оставить пустым поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется сообщение "Поле обязательно для заполнения".
  
### *8.Оплата тура картой со значением 00 в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести значение 00 в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### *9.Оплата тура картой со значением 13 в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести значение 13 в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### *10.Оплата тура картой со значением, состоящим из одной цифры в поле Месяц и использованием валидных данных.*
##### Шаги:
1. Ввести валидный номер карты в поле Номер карты.
2. Ввести значение 1 в поле Месяц.
3. Ввести валидное значение в поле Год.
4. Ввести валидное значение в поле Владелец.
5. Ввести валидное значение в поле CVC/CVV.
6. Нажать кнопку Продолжить.
* Ожидаемый результат: Поле Месяц подсвечивается красным, появляется
сообщение &quot;Неверный формат&quot;.

### Cценарии тестирования API


Предусловие:

1. Каждый сценарий проверяется поочередно для:

-покупки по дебетовой карте

-покупки в кредит


2. Каждый сценарий проверяется поочередно на 2-х БД:

- MySQL;

- PostgreSQL.

### *Позитивные сценарии:*

1. Отправка POST-запроса с валидными данными и номером карты со статусом  "APPROVED".

* Ожидаемый результат: Status: 200 OK, в базе появляется запись со статусом  "APPROVED".

2. Отправка POST-запроса на с валидными данными и номером карты со статусом "DECLINED".

* Ожидаемый результат: Status: 200 OK, в базе появляется запись со статусом  "DECLINED".


### *Негативные сценарии:*

1. Отправка пустого POST-запроса.

* Ожидаемый результат: Status: 400 Bad Request, в базе отсутствует запись.

2. Отправка POST-запроса с валидными данными без номера  карты.

* Ожидаемый результат: Status: 400 Bad Request, в базе отсутствует запись.

3. Отправка POST-запроса с валидными данными без указания месяца.

* Ожидаемый результат: Status: 400 Bad Request, в базе отсутствует запись.

4. Отправка POST- запроса с валидными данными без указания года.

* Ожидаемый результат: Status: 400 Bad Request, в базе отсутствует запись.

5. Отправка POST- запроса с валидными данными без указания
владельца карты.

* Ожидаемый результат: Status: 400 Bad Request, в базе отсутствует запись.

6. Отправка POST- запроса с валидными данными без указания CVC/CVV.

* Ожидаемый результат: Status 400, в базе отсутствует запись.
